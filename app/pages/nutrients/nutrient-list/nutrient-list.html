<navbar [pageTitle]="'Nutrients'"></navbar>

<ion-content>
  <ion-searchbar [(ngModel)]="searchQuery"></ion-searchbar>
  <div padding>
    <ion-segment [(ngModel)]="nutrientGroup">
      <ion-segment-button value="macronutrients">
        Macronutrients
      </ion-segment-button>
      <ion-segment-button value="micronutrients">
        Micronutrients
      </ion-segment-button>
    </ion-segment>
  </div>

  <div [ngSwitch]="nutrientGroup">

    <ion-list class="nutrient-list" *ngSwitchWhen="'micronutrients'">
      <button ion-item class="nutrient-list-item" (click)="openNutrientDetails(micronutrient)" *ngFor="let micronutrient of micronutrients | async | itemSearch: searchQuery">
          <ion-thumbnail item-left>
            <img src="img/{{micronutrient.name}}.png">
          </ion-thumbnail>
          <h2>{{ micronutrient.name }}</h2>
          <p> {{ micronutrient.category }}</p>
          <ion-note item-right>
            Read more
          </ion-note>
      </button>
    </ion-list>

    <ion-list class="nutrient-list" *ngSwitchWhen="'macronutrients'">
      <button ion-item class="nutrient-list-item" (click)="openNutrientDetails(macronutrient)" *ngFor="let macronutrient of macronutrients | async | itemSearch: searchQuery">
          <ion-thumbnail item-left>
            <img src="img/{{macronutrient.name}}.png">
          </ion-thumbnail>
          <h2>{{ macronutrient.name }}</h2>
          <p> {{ macronutrient.category }}</p>
          <ion-note item-right>
            Read more
          </ion-note>
      </button>
    </ion-list>
  </div>
</ion-content>