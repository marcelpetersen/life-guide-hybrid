<ion-navbar gray *navbar>
  <button menuToggle>
    <ion-icon name="menu"></ion-icon>
  </button>
  <ion-title>Nutrients</ion-title>
</ion-navbar>

<ion-content>
  <ion-searchbar [(ngModel)]="searchQuery"></ion-searchbar>
  <div padding>
    <ion-segment [(ngModel)]="nutrientGroup">
      <ion-segment-button value="macronutrients">
        Macronutrients
      </ion-segment-button>
      <ion-segment-button value="micronutrients">
        Micronutrients
      </ion-segment-button>
    </ion-segment>
  </div>

  <div [ngSwitch]="nutrientGroup">
    
    <ion-list class="nutrient-list" *ngSwitchWhen="'micronutrients'">
      <ion-item class="nutrient-list-item" *ngFor="let micronutrient of micronutrients | async | nutrientSearch: searchQuery">
        <ion-thumbnail item-left>
          <img src="img/{{micronutrient.name}}.png">
        </ion-thumbnail>
        <h2>{{ micronutrient.name }}</h2>
        <p> {{ micronutrient.category }}</p>
        <button clear item-right (click)="openNutrientDetails(micronutrient)">View</button>
      </ion-item>
    </ion-list>

    <ion-list class="nutrient-list" *ngSwitchWhen="'macronutrients'">
      <ion-item class="nutrient-list-item" *ngFor="let macronutrient of macronutrients | async | nutrientSearch: searchQuery">
        <ion-thumbnail item-left>
          <img src="img/{{macronutrient.name}}.png">
        </ion-thumbnail>
        <h2>{{ macronutrient.name }}</h2>
        <p> {{ macronutrient.category }}</p>
        <button clear item-right (click)="openNutrientDetails(macronutrient)">View</button>
      </ion-item>
    </ion-list>
  </div>
</ion-content>