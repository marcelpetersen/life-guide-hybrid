
  <ion-item class="meal-plan-date">
    <ion-icon name="calendar" item-left></ion-icon>
    <ion-datetime displayFormat="MMM DD YYYY" [(ngModel)]="currentDate" (ionChange)="syncMealPlan()"></ion-datetime>
  </ion-item>

<ion-content>
    <button fab fab-bottom fab-right fab-fixed (click)="mealAdd()">
     <ion-icon name="add"></ion-icon>
    </button>
     <ion-card class="meal-plan">
    <md-toolbar>
      <md-title>Breakfast</md-title>
    </md-toolbar>
    <md-data-table>
      <thead>
        <tr>
          <th class="md-text-cell">Meal name</th>
          <th class="md-text-cell">Energy</th>
          <th class="md-text-cell">Protein</th>
          <th class="md-text-cell">Carbs</th>
          <th class="md-text-cell">Fiber</th>
          <th class="md-text-cell">Sugars</th>
          <th class="md-text-cell">Fats</th>
          <th class="md-text-cell">Monounsaturated fat</th>
          <th class="md-text-cell">Polyunsaturated fat</th>
          <th class="md-text-cell">Saturated fat</th>
          <th class="md-text-cell">Trans fat</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let meal of currentMealPlan.meals.Breakfast">
          <td class="md-text-cell">{{ meal.name }}</td>
          <td>{{ meal.macronutrients ? meal.energy : meal.nutrients.energy }} kcal</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Protein : meal.nutrients.macronutrients.Protein }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Carbohydrates : meal.nutrients.macronutrients.Carbohydrates }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Fiber : meal.nutrients.macronutrients.Fiber }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Sugars : meal.nutrients.macronutrients.Sugars }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Fats : meal.nutrients.macronutrients.Fats }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Monounsaturated fat'] : meal.nutrients.macronutrients['Monounsaturated fat'] }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Polyunsaturated fat'] : meal.nutrients.macronutrients['Polyunsaturated fat'] }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Saturated fat'] : meal.nutrients.macronutrients['Saturated fat'] }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Trans fat'] : meal.nutrients.macronutrients['Trans fat'] }} g</td>
        </tr>
        <tr>
          <td>Total</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
      </tbody>
    </md-data-table>
  </ion-card>

  <ion-card class="meal-plan">
    <md-toolbar>
      <md-title>Brunch</md-title>
    </md-toolbar>
    <md-data-table>
      <thead>
        <tr>
          <th class="md-text-cell">Meal name</th>
          <th class="md-text-cell">Energy</th>
          <th class="md-text-cell">Protein</th>
          <th class="md-text-cell">Carbs</th>
          <th class="md-text-cell">Fiber</th>
          <th class="md-text-cell">Sugars</th>
          <th class="md-text-cell">Fats</th>
          <th class="md-text-cell">Monounsaturated fat</th>
          <th class="md-text-cell">Polyunsaturated fat</th>
          <th class="md-text-cell">Saturated fat</th>
          <th class="md-text-cell">Trans fat</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let meal of currentMealPlan.meals.Brunch">
          <td class="md-text-cell">{{ meal.name }}</td>
          <td>{{ meal.macronutrients ? meal.energy : meal.nutrients.energy }} kcal</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Protein : meal.nutrients.macronutrients.Protein }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Carbohydrates : meal.nutrients.macronutrients.Carbohydrates }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Fiber : meal.nutrients.macronutrients.Fiber }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Sugars : meal.nutrients.macronutrients.Sugars }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Fats : meal.nutrients.macronutrients.Fats }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Monounsaturated fat'] : meal.nutrients.macronutrients['Monounsaturated fat'] }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Polyunsaturated fat'] : meal.nutrients.macronutrients['Polyunsaturated fat'] }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Saturated fat'] : meal.nutrients.macronutrients['Saturated fat'] }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Trans fat'] : meal.nutrients.macronutrients['Trans fat'] }} g</td>
        </tr>
        <tr>
          <td>Total</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
      </tbody>
    </md-data-table>
  </ion-card>

  <ion-card class="meal-plan">
    <md-toolbar>
      <md-title>Lunch</md-title>
    </md-toolbar>
    <md-data-table>
      <thead>
        <tr>
          <th class="md-text-cell">Meal name</th>
          <th class="md-text-cell">Energy</th>
          <th class="md-text-cell">Protein</th>
          <th class="md-text-cell">Carbs</th>
          <th class="md-text-cell">Fiber</th>
          <th class="md-text-cell">Sugars</th>
          <th class="md-text-cell">Fats</th>
          <th class="md-text-cell">Monounsaturated fat</th>
          <th class="md-text-cell">Polyunsaturated fat</th>
          <th class="md-text-cell">Saturated fat</th>
          <th class="md-text-cell">Trans fat</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let meal of currentMealPlan.meals.Lunch">
          <td class="md-text-cell">{{ meal.name }}</td>
          <td>{{ meal.macronutrients ? meal.energy : meal.nutrients.energy }} kcal</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Protein : meal.nutrients.macronutrients.Protein }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Carbohydrates : meal.nutrients.macronutrients.Carbohydrates }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Fiber : meal.nutrients.macronutrients.Fiber }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Sugars : meal.nutrients.macronutrients.Sugars }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Fats : meal.nutrients.macronutrients.Fats }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Monounsaturated fat'] : meal.nutrients.macronutrients['Monounsaturated fat'] }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Polyunsaturated fat'] : meal.nutrients.macronutrients['Polyunsaturated fat'] }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Saturated fat'] : meal.nutrients.macronutrients['Saturated fat'] }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Trans fat'] : meal.nutrients.macronutrients['Trans fat'] }} g</td>
        </tr>
        <tr>
          <td>Total</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
      </tbody>
    </md-data-table>
  </ion-card>

  <ion-card class="meal-plan">
    <md-toolbar>
      <md-title>Snack</md-title>
    </md-toolbar>
    <md-data-table>
      <thead>
        <tr>
          <th class="md-text-cell">Meal name</th>
          <th class="md-text-cell">Energy</th>
          <th class="md-text-cell">Protein</th>
          <th class="md-text-cell">Carbs</th>
          <th class="md-text-cell">Fiber</th>
          <th class="md-text-cell">Sugars</th>
          <th class="md-text-cell">Fats</th>
          <th class="md-text-cell">Monounsaturated fat</th>
          <th class="md-text-cell">Polyunsaturated fat</th>
          <th class="md-text-cell">Saturated fat</th>
          <th class="md-text-cell">Trans fat</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let meal of currentMealPlan.meals.Snack">
          <td class="md-text-cell">{{ meal.name }}</td>
          <td>{{ meal.macronutrients ? meal.energy : meal.nutrients.energy }} kcal</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Protein : meal.nutrients.macronutrients.Protein }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Carbohydrates : meal.nutrients.macronutrients.Carbohydrates }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Fiber : meal.nutrients.macronutrients.Fiber }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Sugars : meal.nutrients.macronutrients.Sugars }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Fats : meal.nutrients.macronutrients.Fats }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Monounsaturated fat'] : meal.nutrients.macronutrients['Monounsaturated fat'] }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Polyunsaturated fat'] : meal.nutrients.macronutrients['Polyunsaturated fat'] }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Saturated fat'] : meal.nutrients.macronutrients['Saturated fat'] }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Trans fat'] : meal.nutrients.macronutrients['Trans fat'] }} g</td>
        </tr>
        <tr>
          <td>Total</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
      </tbody>
    </md-data-table>
  </ion-card>

  <ion-card class="meal-plan">
    <md-toolbar>
      <md-title>Dinner</md-title>
    </md-toolbar>
    <md-data-table>
      <thead>
        <tr>
          <th class="md-text-cell">Meal name</th>
          <th class="md-text-cell">Energy</th>
          <th class="md-text-cell">Protein</th>
          <th class="md-text-cell">Carbs</th>
          <th class="md-text-cell">Fiber</th>
          <th class="md-text-cell">Sugars</th>
          <th class="md-text-cell">Fats</th>
          <th class="md-text-cell">Monounsaturated fat</th>
          <th class="md-text-cell">Polyunsaturated fat</th>
          <th class="md-text-cell">Saturated fat</th>
          <th class="md-text-cell">Trans fat</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let meal of currentMealPlan.meals.Dinner">
          <td class="md-text-cell">{{ meal.name }}</td>
          <td>{{ meal.macronutrients ? meal.energy : meal.nutrients.energy }} kcal</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Protein : meal.nutrients.macronutrients.Protein }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Carbohydrates : meal.nutrients.macronutrients.Carbohydrates }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Fiber : meal.nutrients.macronutrients.Fiber }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Sugars : meal.nutrients.macronutrients.Sugars }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients.Fats : meal.nutrients.macronutrients.Fats }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Monounsaturated fat'] : meal.nutrients.macronutrients['Monounsaturated fat'] }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Polyunsaturated fat'] : meal.nutrients.macronutrients['Polyunsaturated fat'] }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Saturated fat'] : meal.nutrients.macronutrients['Saturated fat'] }} g</td>
          <td>{{ meal.macronutrients ? meal.macronutrients['Trans fat'] : meal.nutrients.macronutrients['Trans fat'] }} g</td>
        </tr>
        <tr>
          <td>Total</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
        </tr>
      </tbody>
    </md-data-table>
  </ion-card>
 

</ion-content>