<navbar [pageTitle]="'Fitness'"></navbar>
<ion-content [virtualScroll]="mealPlans | async | itemLimit: limit">
  <ion-card *virtualItem="let mealPlan">
    <ion-card-header>
      <ion-row no-paddin>
        <ion-col>
          <h1>{{ mealPlan.date }}</h1>
        </ion-col>
        <ion-col text-right>
          <button clear (click)="refreshMp(mealPlan)">
            <ion-icon name="refresh"></ion-icon>
          </button>
        </ion-col>
      </ion-row>
    </ion-card-header>
    <ion-row no-padding>
      <ion-col>
        <button clear small primary (click)="openMpNutrition(mealPlan)">
              <ion-icon name='stats'></ion-icon>
              View nutrition
            </button>
      </ion-col>
      <ion-col text-right>
        <button clear small primary (click)="openMpDetails(mealPlan)">
          <ion-icon name='book'></ion-icon>
            View meals
          </button>
      </ion-col>
    </ion-row>
    <ion-row no-padding>
      <ion-col>
        <button clear small secondary (click)="editMp(mealPlan)">
          <ion-icon name='create'></ion-icon>
            Edit
        </button>
      </ion-col>
      <ion-col text-right>
        <button clear small danger (click)="removeMp(mealPlan)">
          <ion-icon name='trash'></ion-icon>
          Delete
        </button>
      </ion-col>
    </ion-row>
  </ion-card>
  <button secondary fab fab-bottom fab-right fab-fixed class="float-button" (click)="addMealPlan()">
    <ion-icon name="add"></ion-icon>
  </button>
  <ion-infinite-scroll (ionInfinite)="loadMore($event)">
    <ion-infinite-scroll-content></ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>